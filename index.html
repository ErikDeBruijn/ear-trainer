<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Ear Trainer MVP</title>
    <link rel="stylesheet" href="css/styles.css" />

    <!-- Libraries -->
    <script src="https://unpkg.com/tone@latest/build/Tone.js"></script>
    <script src="https://unpkg.com/webmidi@latest/dist/iife/webmidi.iife.js"></script>
    <script src="https://g200kg.github.io/webaudio-controls/webaudio-controls.js"></script>
</head>
<body>
<div class="container">
    <header>
        <div class="title">Ear Trainer — v0.1</div>
        <div class="controls">
            <label>Key
                <select id="key-select">
                    <option value="C-major">C major</option>
                    <option value="G-major">G major</option>
                    <option value="D-major">D major</option>
                    <option value="F#-major">F# major</option>
                    <option value="A-minor">A minor</option>
                    <option value="E-minor">E minor</option>
                    <option value="F#-minor">F# minor</option>
                </select>
            </label>
            <label>Range
                <select id="range-select">
                  <optgroup label="Single octave">
                    <option value="C3-C4">C3–C4 (1 octave)</option>
                    <option value="C4-C5">C4–C5 (1 octave)</option>
                    <option value="C5-C6">C5–C6 (1 octave)</option>
                  </optgroup>
                  <optgroup label="Two octaves">
                    <option value="C2-C4">C2–C4 (2 octaves)</option>
                    <option value="C3-C5" selected>C3–C5 (2 octaves)</option>
                    <option value="C4-C6">C4–C6 (2 octaves)</option>
                  </optgroup>
                </select>
            </label>
            <label>MIDI In
                <select id="midi-in"></select>
            </label>
            <label>MIDI Out
                <select id="midi-out"></select>
            </label>
            <label>Wrong answer sound
                <select id="wrong-mode">
                    <option value="silent">Silent</option>
                    <option value="play-pressed">Play pressed note</option>
                </select>
            </label>
            <label>Play home note first
                <select id="tonic-mode">
                    <option value="before-target" selected>Yes</option>
                    <option value="off">No</option>
                </select>
            </label>
            <label>Resolution frequency
                <select id="resolution-frequency">
                    <option value="1.0" selected>Always</option>
                    <option value="0.5">Half the time</option>
                    <option value="0.33">Third of the time</option>
                    <option value="0.25">One in four times</option>
                    <option value="0.0">Only the first one</option>
                </select>
            </label>
            <button id="start" class="primary">Start</button>
            <button id="pause" class="secondary">Pause</button>
            <button id="replay" class="secondary">Replay</button>
        </div>
    </header>

    <section class="panel">
        <!-- on-screen keyboard -->
        <webaudio-keyboard id="kbd" min="48" keys="24" width="920" height="120" outline="1"></webaudio-keyboard>

        <!-- HUD -->
        <div class="hud">
            <div>Score: <span id="score">0</span></div>
            <div>Streak: <span id="streak">0</span></div>
            <div>Timer: <span id="timer">60</span>s</div>
            <div>Accuracy: <span id="acc">—</span></div>
        </div>
        <div id="status" class="status"></div>
    </section>
</div>
<div id="overlay-flash" aria-hidden="true"></div>

<!-- App -->
<script type="module" src="js/main.js"></script>
</body>
</html>
